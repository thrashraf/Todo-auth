{"ast":null,"code":"import _slicedToArray from\"C:/Users/user/Desktop/Diploma/Krenovator-TSA/auth/auth-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from'react';import{Route,Routes}from'react-router-dom';import{Layout}from'./Layout/Layout';import{Home}from'./pages/Home';import{Login}from'./pages/Login';import{SignUp}from'./pages/SignUp';import{Profile}from'./pages/Profile';import{Admin}from'./pages/Admin';import{EditUser}from'./pages/EditUser';import{Todos}from'./pages/Todos';import{userContext}from'./userContext';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];useEffect(function(){axios.get('http://localhost:5000/user',{withCredentials:true}).then(function(res){console.log(res);setData(res.data);});},[]);var route=/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{}),exact:true}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/signup\",element:/*#__PURE__*/_jsx(SignUp,{})})]});if(data){route=/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{}),exact:true}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/signup\",element:/*#__PURE__*/_jsx(SignUp,{})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:/*#__PURE__*/_jsx(Profile,{})})]});if(data.role===\"Admin\"){route=/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{}),exact:true}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/signup\",element:/*#__PURE__*/_jsx(SignUp,{})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:/*#__PURE__*/_jsx(Profile,{})}),/*#__PURE__*/_jsx(Route,{path:\"/admin\",element:/*#__PURE__*/_jsx(Admin,{})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/edituser\",element:/*#__PURE__*/_jsx(EditUser,{})}),/*#__PURE__*/_jsx(Route,{path:\"/todos\",element:/*#__PURE__*/_jsx(Todos,{})})]});}}return/*#__PURE__*/_jsx(userContext.Provider,{value:{data:data,setData:setData},children:/*#__PURE__*/_jsx(\"div\",{className:\"h-full\",children:/*#__PURE__*/_jsx(Layout,{children:route})})});}export default App;","map":{"version":3,"sources":["C:/Users/user/Desktop/Diploma/Krenovator-TSA/auth/auth-client/src/App.js"],"names":["useState","useEffect","Route","Routes","Layout","Home","Login","SignUp","Profile","Admin","EditUser","Todos","userContext","axios","App","data","setData","get","withCredentials","then","res","console","log","route","role"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react';\nimport { Route, Routes} from 'react-router-dom';\nimport { Layout } from './Layout/Layout';\nimport { Home } from './pages/Home';\nimport { Login } from './pages/Login';\nimport { SignUp } from './pages/SignUp';\nimport { Profile } from './pages/Profile';\nimport { Admin } from './pages/Admin';\nimport { EditUser} from './pages/EditUser';\nimport { Todos } from './pages/Todos';\n\nimport { userContext } from './userContext';\nimport axios from 'axios';\n\nfunction App() {\n\n  const [data, setData] = useState(null)\n\n  useEffect(() => {\n    \n    axios.get('http://localhost:5000/user', {withCredentials: true})\n    .then(res => {\n      console.log(res)\n      setData(res.data)\n    })\n  }, [])\n\n  let route = (\n    <Routes>\n      \n        <Route path=\"/\" element={ <Home/> } exact />\n        <Route path=\"/login\" element={ <Login/> }/>\n        <Route path=\"/signup\" element={ <SignUp/> } />\n       \n \n    </Routes>\n  )\n\n  if (data) {\n\n    route = (\n      <Routes>\n        <Route path=\"/\" element={ <Home/> } exact />\n        <Route path=\"/login\" element={ <Login/> }/>\n        <Route path=\"/signup\" element={ <SignUp/> } />\n        <Route path=\"/profile\" element={ <Profile/> } />\n      </Routes>\n      )\n\n      if (data.role === \"Admin\") {\n        route = (\n        <Routes>\n          <Route path=\"/\" element={ <Home/> } exact />\n          <Route path=\"/login\" element={ <Login/> }/>\n          <Route path=\"/signup\" element={ <SignUp/> } />\n          <Route path=\"/profile\" element={ <Profile/> } />\n          <Route path=\"/admin\" element={ <Admin/> } />\n          <Route path=\"/admin/edituser\" element={ <EditUser/> } />\n          <Route path=\"/todos\" element={ <Todos/> } />\n        </Routes>\n        )\n      }\n  }\n\n  return (\n    <userContext.Provider value={{data, setData}}>\n      <div className=\"h-full\">\n        <Layout>\n          {route}\n        </Layout>\n      </div>\n    </userContext.Provider>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}