{"ast":null,"code":"import _objectSpread from\"C:/Users/user/Desktop/Diploma/Krenovator-TSA/auth/auth-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";var _this=this;import axios from'axios';import React from'react';import{useContext}from'react';import deleteIcon from'../../../assets/delete.png';import checkIcon from\"../../../assets/icon-check.svg\";import{userContext}from'../../../userContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Lists=function Lists(props){axios.defaults.withCredentials=true;var user=useContext(userContext);var lists=user?user.data:null;var checkListStyle=function checkListStyle(){return{background:'linear-gradient(90deg, rgba(34,193,195,1) 0%, rgba(253,45,252,1) 100%)'};};var checkHandler=function checkHandler(id){var index=lists.todo.findIndex(function(list){return list.todoId===id;});var userObj=_objectSpread({},user.data);userObj.todo[index].isCheck=!userObj.todo[index].isCheck;user.setData(userObj);var todoData={id:id,isCheck:lists.todo[index].isCheck};axios.patch(\"http://localhost:5000/updateTodo\",todoData,{withCredentials:true}).then(function(res){console.log(res);}).catch(function(err){return console.log(err);});console.log(id);console.log(index);};var deleteListhandler=function deleteListhandler(id){axios.delete(\"http://localhost:5000/deleteTodo/\".concat(id),{withCredentials:true}).then(function(res){console.log(res);var index=lists.todo.findIndex(function(list){return list.todoId===id;});var userObj=_objectSpread({},user.data);userObj.todo.splice(index,1);user.setData(userObj);}).catch(function(err){return console.log(err);});};var listsTodo=function listsTodo(){if(!lists||lists&&lists.todo.length===0){return/*#__PURE__*/_jsx(\"section\",{className:\"flex justify-between  bg-white px-7 py-5 first:rounded-firstChild last:rounded-lastChild dark:bg-gray-800 dark:text-white dark:line-through transition-colors duration-300 ease-out\",children:/*#__PURE__*/_jsx(\"section\",{className:\"flex\",children:/*#__PURE__*/_jsx(\"li\",{className:\"list-none pl-5\",children:\" Plan your day \\uD83D\\uDC4B\\uD83C\\uDF43\"})})});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"mt-10 text-center\",children:[listsTodo(),lists?lists.todo.filter(function(list){if(props.filter==='Active'){return!list.isCheck;}else if(props.filter==='Completed'){return list.isCheck;}else{return list;}}).map(function(list){return/*#__PURE__*/_jsxs(\"section\",{className:\"flex justify-between  bg-white px-7 py-5 first:rounded-firstChild last:rounded-lastChild dark:bg-gray-800 dark:text-white dark:line-through transition-colors duration-300 ease-out\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"flex\",children:[/*#__PURE__*/_jsx(\"span\",{onClick:checkHandler.bind(_this,list.todoId),className:\"w-6 h-6 bg-white border border-gray-400 rounded-full dark:bg-gray-900 dark:border-gray-900\",style:list.isCheck?checkListStyle():null,children:/*#__PURE__*/_jsx(\"img\",{src:checkIcon,alt:\"check\",className:\"w-3 h-3 relative top-1 left-1\",style:{'display':list.isCheck?'block':'none'}})}),/*#__PURE__*/_jsx(\"li\",{className:\"list-none pl-5\",style:list.isCheck?{textDecoration:'line-through',textDecorationColor:'gray'}:null,children:list.input})]}),/*#__PURE__*/_jsx(\"img\",{src:deleteIcon,alt:\"delete\",className:\"w-5 h-5 cursor-pointer\",onClick:deleteListhandler.bind(_this,list.todoId)})]},list.todoId);}):null]});};","map":{"version":3,"sources":["C:/Users/user/Desktop/Diploma/Krenovator-TSA/auth/auth-client/src/Components/UI/Lists/Lists.jsx"],"names":["axios","React","useContext","deleteIcon","userContext","Lists","props","defaults","withCredentials","user","lists","data","checkListStyle","background","checkHandler","id","index","todo","findIndex","list","todoId","userObj","isCheck","setData","todoData","patch","then","res","console","log","catch","err","deleteListhandler","delete","splice","listsTodo","length","filter","map","bind","checkIcon","textDecoration","textDecorationColor","input"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\nimport React from 'react'\r\nimport { useContext } from 'react'\r\nimport deleteIcon from '../../../assets/delete.png'\r\nimport checkIcon from '../../../assets/icon-check.svg'\r\nimport { userContext } from '../../../userContext'\r\n\r\nexport const Lists = props => {\r\n\r\n    axios.defaults.withCredentials = true\r\n\r\n\r\n    \r\n    const user = useContext(userContext)\r\n    const lists = user ? user.data : null\r\n    \r\n    \r\n    \r\n    const checkListStyle = () => {\r\n\r\n        return {\r\n            background: 'linear-gradient(90deg, rgba(34,193,195,1) 0%, rgba(253,45,252,1) 100%)'\r\n        }\r\n    }\r\n\r\n    const checkHandler = id => {\r\n\r\n            const index = lists.todo.findIndex(list => list.todoId === id);\r\n\r\n            const userObj = {...user.data}\r\n            userObj.todo[index].isCheck = !userObj.todo[index].isCheck\r\n            \r\n\r\n            user.setData(userObj);\r\n            const todoData = {id, isCheck: lists.todo[index].isCheck}\r\n            \r\n            axios.patch(`http://localhost:5000/updateTodo`, todoData, {withCredentials: true})\r\n            .then(res => {\r\n                console.log(res)  \r\n            })\r\n            .catch(err => console.log(err))\r\n\r\n            console.log(id)\r\n            console.log(index) \r\n    }\r\n\r\n\r\n    const deleteListhandler = id => {\r\n        \r\n        axios.delete(`http://localhost:5000/deleteTodo/${id}`, {withCredentials: true})\r\n        .then(res => {\r\n            console.log(res)\r\n\r\n            const index = lists.todo.findIndex(list => list.todoId === id);\r\n            const userObj = {...user.data}\r\n\r\n            userObj.todo.splice(index, 1)\r\n            user.setData(userObj)\r\n        })\r\n        .catch(err => console.log(err))\r\n    }\r\n\r\n\r\n    const listsTodo = () => {\r\n\r\n        if (!lists || (lists && lists.todo.length === 0) ) {\r\n            return (\r\n                <section className=\"flex justify-between  bg-white px-7 py-5 first:rounded-firstChild last:rounded-lastChild dark:bg-gray-800 dark:text-white dark:line-through transition-colors duration-300 ease-out\" >\r\n                <section className=\"flex\">\r\n                   \r\n                    <li className=\"list-none pl-5\"> Plan your day 👋🍃</li>\r\n                </section>\r\n            </section>    \r\n            )\r\n        }\r\n    }\r\n\r\n    return (\r\n\r\n\r\n        <div className=\"mt-10 text-center\">\r\n\r\n            {listsTodo()}\r\n\r\n\r\n            {lists ? lists.todo.filter(list => {\r\n\r\n                if (props.filter === 'Active') {\r\n                     return (!list.isCheck)\r\n                } else if (props.filter === 'Completed') {\r\n                    return (list.isCheck)\r\n                } else {\r\n                    return list\r\n                }\r\n\r\n            }).map(list => {\r\n            \r\n            return (\r\n                <section className=\"flex justify-between  bg-white px-7 py-5 first:rounded-firstChild last:rounded-lastChild dark:bg-gray-800 dark:text-white dark:line-through transition-colors duration-300 ease-out\"  key={list.todoId}>\r\n                <section className=\"flex\">\r\n                    <span onClick={checkHandler.bind(this, list.todoId)} className=\"w-6 h-6 bg-white border border-gray-400 rounded-full dark:bg-gray-900 dark:border-gray-900\" style={list.isCheck ? checkListStyle() : null}>\r\n                        <img src={checkIcon} alt=\"check\" className=\"w-3 h-3 relative top-1 left-1\" style={{'display': list.isCheck ? 'block' : 'none'}}/>\r\n                    </span>\r\n                    <li className=\"list-none pl-5\" style={list.isCheck ? {textDecoration: 'line-through', textDecorationColor: 'gray'} : null} >{list.input}</li>\r\n                </section>\r\n                <img src={deleteIcon} alt=\"delete\" className=\"w-5 h-5 cursor-pointer\" onClick={deleteListhandler.bind(this, list.todoId)}/>\r\n            </section>            \r\n\r\n            )\r\n        }): null}\r\n        </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}