{"ast":null,"code":"import _slicedToArray from\"C:/Users/user/Desktop/Diploma/Krenovator-TSA/auth/auth-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext}from'react';import{useNavigate}from'react-router-dom';import{Button}from'../UI/Button/Button';import{NavLink,useLocation}from'react-router-dom';import{useCookies}from'react-cookie';import{userContext}from'../../userContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Nav=function Nav(){var _useCookies=useCookies([\"user\"]),_useCookies2=_slicedToArray(_useCookies,3),cookies=_useCookies2[0],setCookie=_useCookies2[1],removeCookie=_useCookies2[2];var navigate=useNavigate();var user=useContext(userContext);var redirectLogin=function redirectLogin(){return navigate('/login');};var _useLocation=useLocation(),pathname=_useLocation.pathname;console.log(pathname);var logoutHandler=function logoutHandler(){removeCookie('token');navigate('/');user.setData(null);};var admin=/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{className:\"cursor-pointer\",children:/*#__PURE__*/_jsx(NavLink,{to:\"/admin\",children:\"USERS\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"cursor-pointer\",children:/*#__PURE__*/_jsx(NavLink,{to:\"/todos\",children:\"TODOS\"})})]});return/*#__PURE__*/_jsxs(\"div\",{className:\"flex w-full justify-between py-5 px-10 font-mono bg-gray-100\",style:pathname==='/login'||pathname==='/signup'?{display:'none'}:{display:'flex'},children:[/*#__PURE__*/_jsxs(\"section\",{className:\"flex w-1/3 justify-evenly font-bold\",children:[/*#__PURE__*/_jsx(\"p\",{className:\" cursor-pointer\",children:/*#__PURE__*/_jsx(NavLink,{to:\"/\",children:\"HOME\"})}),user.data?/*#__PURE__*/_jsx(\"p\",{className:\"cursor-pointer\",children:/*#__PURE__*/_jsx(NavLink,{to:\"/profile\",children:\"PROFILE\"})}):null,user.data&&user.data.role==='Admin'?admin:null]}),/*#__PURE__*/_jsx(\"section\",{className:\"flex justify-between\",children:/*#__PURE__*/_jsx(Button,{onClick:user.data?logoutHandler:redirectLogin,name:user.data?\"LOGOUT\":\"LOGIN\"})})]});};","map":{"version":3,"sources":["C:/Users/user/Desktop/Diploma/Krenovator-TSA/auth/auth-client/src/Components/Nav/Nav.jsx"],"names":["React","useContext","useNavigate","Button","NavLink","useLocation","useCookies","userContext","Nav","cookies","setCookie","removeCookie","navigate","user","redirectLogin","pathname","console","log","logoutHandler","setData","admin","display","data","role"],"mappings":"oLAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,KAAkC,OAAlC,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,OAASC,MAAT,KAAuB,qBAAvB,CACA,OAASC,OAAT,CAAkBC,WAAlB,KAAqC,kBAArC,CACA,OAASC,UAAT,KAA4B,cAA5B,CACA,OAASC,WAAT,KAA4B,mBAA5B,C,wFAEA,MAAO,IAAMC,CAAAA,GAAG,CAAG,QAANA,CAAAA,GAAM,EAAM,CAErB,gBAA2CF,UAAU,CAAC,CAAC,MAAD,CAAD,CAArD,4CAAOG,OAAP,iBAAgBC,SAAhB,iBAA2BC,YAA3B,iBACA,GAAMC,CAAAA,QAAQ,CAAGV,WAAW,EAA5B,CACA,GAAMW,CAAAA,IAAI,CAAGZ,UAAU,CAACM,WAAD,CAAvB,CACA,GAAMO,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,SAAMF,CAAAA,QAAQ,CAAC,QAAD,CAAd,EAAtB,CAEA,iBAAqBP,WAAW,EAAhC,CAAQU,QAAR,cAAQA,QAAR,CACAC,OAAO,CAACC,GAAR,CAAYF,QAAZ,EAEA,GAAMG,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CACxBP,YAAY,CAAC,OAAD,CAAZ,CACAC,QAAQ,CAAC,GAAD,CAAR,CACAC,IAAI,CAACM,OAAL,CAAa,IAAb,EACH,CAJD,CAQA,GAAMC,CAAAA,KAAK,cACP,MAAC,KAAD,CAAO,QAAP,yBACI,UAAG,SAAS,CAAC,gBAAb,uBAA8B,KAAC,OAAD,EAAS,EAAE,CAAC,QAAZ,mBAA9B,EADJ,cAEI,UAAG,SAAS,CAAC,gBAAb,uBAA8B,KAAC,OAAD,EAAS,EAAE,CAAC,QAAZ,mBAA9B,EAFJ,GADJ,CASA,mBACI,aAAK,SAAS,CAAC,8DAAf,CAA8E,KAAK,CAAEL,QAAQ,GAAK,QAAb,EAAyBA,QAAQ,GAAK,SAAtC,CAAkD,CAACM,OAAO,CAAE,MAAV,CAAlD,CAAsE,CAACA,OAAO,CAAE,MAAV,CAA3J,wBACI,iBAAS,SAAS,CAAC,qCAAnB,wBACI,UAAG,SAAS,CAAC,iBAAb,uBAA+B,KAAC,OAAD,EAAS,EAAE,CAAC,GAAZ,kBAA/B,EADJ,CAEKR,IAAI,CAACS,IAAL,cAAY,UAAG,SAAS,CAAC,gBAAb,uBAA8B,KAAC,OAAD,EAAS,EAAE,CAAC,UAAZ,qBAA9B,EAAZ,CAAyF,IAF9F,CAGKT,IAAI,CAACS,IAAL,EAAaT,IAAI,CAACS,IAAL,CAAUC,IAAV,GAAmB,OAAhC,CAA0CH,KAA1C,CAAkD,IAHvD,GADJ,cAOI,gBAAS,SAAS,CAAC,sBAAnB,uBACI,KAAC,MAAD,EAAQ,OAAO,CAAEP,IAAI,CAACS,IAAL,CAAYJ,aAAZ,CAA4BJ,aAA7C,CAA4D,IAAI,CAAED,IAAI,CAACS,IAAL,CAAY,QAAZ,CAAuB,OAAzF,EADJ,EAPJ,GADJ,CAaH,CAxCM","sourcesContent":["import React, { useContext } from 'react'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { Button } from '../UI/Button/Button';\r\nimport { NavLink, useLocation } from 'react-router-dom';\r\nimport { useCookies  } from 'react-cookie'\r\nimport { userContext } from '../../userContext';\r\n\r\nexport const Nav = () => {\r\n\r\n    const [cookies, setCookie, removeCookie] = useCookies([\"user\"]);\r\n    const navigate = useNavigate();\r\n    const user = useContext(userContext)\r\n    const redirectLogin = () => navigate('/login')\r\n\r\n    const { pathname } = useLocation()\r\n    console.log(pathname)\r\n\r\n    const logoutHandler = () => {\r\n        removeCookie('token')\r\n        navigate('/')\r\n        user.setData(null)\r\n    }\r\n\r\n    \r\n\r\n    const admin = (\r\n        <React.Fragment>\r\n            <p className=\"cursor-pointer\"><NavLink to=\"/admin\">USERS</NavLink></p>\r\n            <p className=\"cursor-pointer\"><NavLink to=\"/todos\">TODOS</NavLink></p>\r\n        </React.Fragment>\r\n        \r\n    )\r\n\r\n    \r\n    return (\r\n        <div className=\"flex w-full justify-between py-5 px-10 font-mono bg-gray-100\" style={pathname === '/login' || pathname === '/signup' ? {display: 'none'} : {display: 'flex'}}>\r\n            <section className=\"flex w-1/3 justify-evenly font-bold\">\r\n                <p className=\" cursor-pointer\"><NavLink to=\"/\">HOME</NavLink></p>\r\n                {user.data ? <p className=\"cursor-pointer\"><NavLink to=\"/profile\">PROFILE</NavLink></p> : null}\r\n                {user.data && user.data.role === 'Admin' ? admin : null}\r\n            </section>  \r\n\r\n            <section className=\"flex justify-between\">\r\n                <Button onClick={user.data ? logoutHandler : redirectLogin} name={user.data ? \"LOGOUT\" : \"LOGIN\"}/>\r\n            </section>\r\n        </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}