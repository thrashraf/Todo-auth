{"ast":null,"code":"import _slicedToArray from\"C:/Users/user/Desktop/Diploma/Krenovator-TSA/auth/auth-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import axios from'axios';import React,{useEffect,useState}from'react';import{useLocation,useNavigate}from'react-router-dom';import{Button}from'../Components/UI/Button/Button';import{Input}from'../Components/UI/Input/Input';import{ToastContainer,toast,Zoom,Bounce}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var EditUser=function EditUser(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setNewName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setNewEmail=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),role=_useState6[0],setNewRole=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),password=_useState8[0],setNewPassword=_useState8[1];var navigate=useNavigate();var location=useLocation();var id=location.state.id;useEffect(function(){console.log(id);axios.get(\"http://localhost:5000/userDetail/\".concat(id)).then(function(res){var data=res.data;console.log(res.data);setNewName(data.name);setNewEmail(data.email);setNewRole(data.role);});},[id]);var onSubmitHandler=function onSubmitHandler(e){e.preventDefault();var data={id:id,name:name,email:email,role:role,password:password};toast.promise(axios.post('http://localhost:5000/updateUserDetail',data,{withCredentials:true}).then(function(res){console.log(res);// navigate('/admin')\n}).catch(function(err){console.log(err);}),{pending:'Updating your account 🧑‍🔧',success:'Successful Upadate ✅',error:'Something went wrong 🚩'});};return/*#__PURE__*/_jsxs(\"div\",{className:\" flex justify-center items-center\",children:[/*#__PURE__*/_jsx(ToastContainer,{position:\"top-center\",autoClose:5000,hideProgressBar:false,newestOnTop:false,closeOnClick:true,rtl:false,pauseOnFocusLoss:true,draggable:true,pauseOnHover:true}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmitHandler,className:\"grid grid-cols-2 gap-5 mt-20\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"flex flex-col\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-400 ml-2\",children:\"Name\"}),/*#__PURE__*/_jsx(Input,{placeholder:\"New Username\",type:\"text\",value:name,onChange:function onChange(e){return setNewName(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"flex flex-col\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-400 ml-2\",children:\"Email\"}),/*#__PURE__*/_jsx(Input,{placeholder:\"New email\",type:\"email\",value:email,onChange:function onChange(e){return setNewEmail(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"flex flex-col\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-400 ml-2\",children:\"Role\"}),/*#__PURE__*/_jsx(Input,{placeholder:\"New Role\",type:\"text\",value:role,onChange:function onChange(e){return setNewRole(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"flex flex-col\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-400 ml-2\",children:\"Password\"}),/*#__PURE__*/_jsx(Input,{placeholder:\"New Password\",type:\"password\",value:password,onChange:function onChange(e){return setNewPassword(e.target.value);}})]}),/*#__PURE__*/_jsx(\"section\",{className:\"mt-20\",children:/*#__PURE__*/_jsx(Button,{name:\"SAVE CHANGES\"})})]})]});};","map":{"version":3,"sources":["C:/Users/user/Desktop/Diploma/Krenovator-TSA/auth/auth-client/src/pages/EditUser.jsx"],"names":["axios","React","useEffect","useState","useLocation","useNavigate","Button","Input","ToastContainer","toast","Zoom","Bounce","EditUser","name","setNewName","email","setNewEmail","role","setNewRole","password","setNewPassword","navigate","location","id","state","console","log","get","then","res","data","onSubmitHandler","e","preventDefault","promise","post","withCredentials","catch","err","pending","success","error","target","value"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useLocation, useNavigate } from 'react-router-dom'\r\nimport { Button } from '../Components/UI/Button/Button';\r\nimport { Input } from '../Components/UI/Input/Input';\r\nimport { ToastContainer, toast, Zoom, Bounce } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nexport const EditUser = () => {\r\n\r\n    const [name, setNewName] = useState('')\r\n    const [email, setNewEmail] = useState('')\r\n    const [role, setNewRole] = useState('')\r\n    const [password, setNewPassword] = useState('')\r\n\r\n    const navigate = useNavigate()\r\n\r\n    const location = useLocation();\r\n    const id = location.state.id\r\n    \r\n\r\n    useEffect(() => {\r\n\r\n        console.log(id)\r\n\r\n        axios.get(`http://localhost:5000/userDetail/${id}`)\r\n        .then(res => {\r\n            const data = res.data\r\n\r\n            console.log(res.data)\r\n            setNewName(data.name)\r\n            setNewEmail(data.email)\r\n            setNewRole(data.role)\r\n        })\r\n    }, [id])\r\n\r\n    const onSubmitHandler = e => {\r\n        e.preventDefault()\r\n\r\n        const data = {id, name, email, role, password}\r\n\r\n        toast.promise(\r\n            axios.post('http://localhost:5000/updateUserDetail', data, {withCredentials: true})\r\n            .then(res => {\r\n                console.log(res)\r\n                // navigate('/admin')\r\n                 \r\n            }).catch(err => {\r\n                console.log(err)\r\n            }),{\r\n                pending: 'Updating your account 🧑‍🔧',\r\n                success: 'Successful Upadate ✅',\r\n                error: 'Something went wrong 🚩'\r\n            },\r\n        )\r\n    }\r\n\r\n\r\n    \r\n    return (\r\n        \r\n        <div className=' flex justify-center items-center'>\r\n         <ToastContainer\r\n                    position=\"top-center\"\r\n                    autoClose={5000}\r\n                    hideProgressBar={false}\r\n                    newestOnTop={false}\r\n                    closeOnClick\r\n                    rtl={false}\r\n                    pauseOnFocusLoss\r\n                    draggable\r\n                    pauseOnHover\r\n                />\r\n            <form onSubmit={onSubmitHandler} className='grid grid-cols-2 gap-5 mt-20'>\r\n                <section className='flex flex-col'>\r\n                    <span className='text-sm text-gray-400 ml-2'>Name</span>\r\n                    <Input placeholder=\"New Username\" type=\"text\" value={name} onChange={(e) => setNewName(e.target.value)}/>\r\n                </section>\r\n\r\n                <section className='flex flex-col'>\r\n                    <span className='text-sm text-gray-400 ml-2'>Email</span>\r\n                    <Input placeholder=\"New email\" type=\"email\" value={email} onChange={(e) => setNewEmail(e.target.value)}/>\r\n                </section>\r\n\r\n                <section className='flex flex-col'>\r\n                    <span className='text-sm text-gray-400 ml-2'>Role</span>\r\n                    <Input placeholder=\"New Role\" type=\"text\" value={role} onChange={(e) => setNewRole(e.target.value)}/>\r\n                </section>\r\n\r\n                <section className='flex flex-col'>\r\n                    <span className='text-sm text-gray-400 ml-2'>Password</span>\r\n                    <Input placeholder=\"New Password\" type=\"password\" value={password} onChange={(e) => setNewPassword(e.target.value)}/>\r\n                </section>\r\n\r\n                <section className='mt-20'>\r\n                    <Button name=\"SAVE CHANGES\"/>\r\n                </section>\r\n            </form>\r\n            \r\n        </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}