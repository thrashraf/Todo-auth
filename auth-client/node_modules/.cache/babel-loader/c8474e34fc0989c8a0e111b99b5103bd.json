{"ast":null,"code":"import _slicedToArray from\"C:/Users/user/Desktop/Diploma/Krenovator-TSA/auth/auth-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState}from'react';import userIcon from'../assets/user.png';import passwordIcon from'../assets/password.png';import{NavLink,useNavigate}from'react-router-dom';import{Input}from'../Components/UI/Input/Input';import{Button}from'../Components/UI/Button/Button';import axios from'axios';import{userContext}from'../userContext';import{ToastContainer,toast,Zoom,Bounce}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Login=function Login(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var user=useContext(userContext);var navigate=useNavigate();var onSubmitHandler=function onSubmitHandler(e){e.preventDefault();// console.log(email, password)\nvar data={email:email,password:password};axios.post('http://localhost:5000/login',data,{withCredentials:true}).then(function(res){console.log(res);user.setData(res.data);navigate(res.data.redirectUrl);}).catch(function(err){toast.error(err.response.data.message);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"w-full grid grid-cols-2 font-mono mt-10 overflow-hidden\",children:[/*#__PURE__*/_jsx(\"section\",{className:\"\",children:/*#__PURE__*/_jsx(\"img\",{src:\"https://doodleipsum.com/700/flat?i=0462f38b936928e4aded312497d316a7\",alt:\"\",className:\"\"})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmitHandler,className:\"flex flex-col justify-center items-center\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"flex flex-col justify-center items-center\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"flex mb-10\",children:[/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"img\",{src:userIcon,alt:\"username\",className:\"w-5 h-5 relative left-8 top-5\"})}),/*#__PURE__*/_jsx(Input,{placeholder:\"email\",type:\"email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"flex mb-10\",children:[/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"img\",{src:passwordIcon,alt:\"username\",className:\"w-5 h-5 relative left-8 top-5\"})}),/*#__PURE__*/_jsx(Input,{placeholder:\"password\",type:\"password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}})]}),/*#__PURE__*/_jsx(Button,{name:\"LOGIN\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-10\",children:[\"Doesn't have an account? \",/*#__PURE__*/_jsx(\"span\",{className:\"text-blue-600 underline\",children:/*#__PURE__*/_jsx(NavLink,{to:\"/signup\",children:\"Register\"})})]})]}),/*#__PURE__*/_jsx(ToastContainer,{position:\"top-center\",autoClose:5000,hideProgressBar:false,newestOnTop:false,closeOnClick:true,rtl:false,pauseOnFocusLoss:true,draggable:true,pauseOnHover:true})]})]});};","map":{"version":3,"sources":["C:/Users/user/Desktop/Diploma/Krenovator-TSA/auth/auth-client/src/pages/Login.jsx"],"names":["React","useContext","useState","userIcon","passwordIcon","NavLink","useNavigate","Input","Button","axios","userContext","ToastContainer","toast","Zoom","Bounce","Login","email","setEmail","password","setPassword","user","navigate","onSubmitHandler","e","preventDefault","data","post","withCredentials","then","res","console","log","setData","redirectUrl","catch","err","error","response","message","target","value"],"mappings":"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","sourcesContent":["import React,{ useContext, useState } from 'react'\r\nimport userIcon from '../assets/user.png'\r\nimport passwordIcon from '../assets/password.png'\r\nimport { NavLink, useNavigate } from 'react-router-dom'\r\nimport { Input } from '../Components/UI/Input/Input'\r\nimport { Button } from '../Components/UI/Button/Button'\r\nimport axios from 'axios'\r\nimport { userContext } from '../userContext'\r\nimport { ToastContainer, toast, Zoom, Bounce } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\n\r\nexport const Login = () => {\r\n\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    const user = useContext(userContext)\r\n    const navigate = useNavigate();\r\n\r\n    const onSubmitHandler = e => {\r\n        e.preventDefault()\r\n        // console.log(email, password)\r\n        const data = {email, password}\r\n\r\n\r\n        axios.post('http://localhost:5000/login', data, {withCredentials: true})\r\n        .then(res => {\r\n            console.log(res)\r\n            user.setData(res.data)\r\n            navigate(res.data.redirectUrl)\r\n            \r\n        }).catch(err => {\r\n            toast.error(err.response.data.message);\r\n        })\r\n    }\r\n\r\n    \r\n\r\n    return (\r\n        <div className=\"w-full grid grid-cols-2 font-mono mt-10 overflow-hidden\">\r\n            <section className=\"\">\r\n                <img src=\"https://doodleipsum.com/700/flat?i=0462f38b936928e4aded312497d316a7\" alt=\"\" className=\"\"/>\r\n            </section>\r\n\r\n            <form onSubmit={onSubmitHandler} className=\"flex flex-col justify-center items-center\">\r\n                <section className=\"flex flex-col justify-center items-center\">\r\n                    <section className=\"flex mb-10\">\r\n                        <span><img src={userIcon} alt=\"username\" className=\"w-5 h-5 relative left-8 top-5\"/></span>\r\n                    <Input placeholder=\"email\" type=\"email\" value={email} onChange={(e) => setEmail(e.target.value)}/>\r\n                    </section>\r\n\r\n                    <section className=\"flex mb-10\">\r\n                        <span><img src={passwordIcon} alt=\"username\" className=\"w-5 h-5 relative left-8 top-5\"/></span>\r\n                        <Input placeholder=\"password\" type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)}/>\r\n                    </section>\r\n                    <Button name=\"LOGIN\" />\r\n\r\n                    <p className=\"mt-10\">Doesn't have an account? <span className=\"text-blue-600 underline\"><NavLink to=\"/signup\">Register</NavLink></span></p>\r\n                </section>\r\n                <ToastContainer\r\n                    position=\"top-center\"\r\n                    autoClose={5000}\r\n                    hideProgressBar={false}\r\n                    newestOnTop={false}\r\n                    closeOnClick\r\n                    rtl={false}\r\n                    pauseOnFocusLoss\r\n                    draggable\r\n                    pauseOnHover\r\n                />\r\n            </form>\r\n            \r\n        </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}